# μ–΄λ…Έν…μ΄μ…

## μ»¨νΈλ΅¤λ¬

### @Controller

Spring MVCμ—μ„ μ»¨νΈλ΅¤λ¬λ¥Ό λ‚νƒ€λ‚΄κΈ° μ„ν• μ–΄λ…Έν…μ΄μ…μ΄λ‹¤.

- ElementType.TYPE

### @RestController

`@Controller` μ— `@ResponseBody` κ°€ μ¶”κ°€λ μ–΄λ…Έν…μ΄μ…μ΄λ‹¤. RestControllerμ μ£Όμ©λ„λ” JSON ν•νƒμ λ°μ΄ν„°λ¥Ό λ°ν™ν•κΈ° μ„ν• κ²ƒμ΄λ‹¤.

REST APIλ¥Ό μ„ν• μ»¨νΈλ΅¤λ¬λΌλ” κ²ƒμ„ λ…μ‹ν•κΈ° μ„ν• μ—­ν• μ΄λ‹¤. κ°λ³„ Mappingμ—μ„ @ResponseBodyλ¥Ό μ‚¬μ©ν•μ§€ μ•μ•„λ„ λκΈ° λ•λ¬Έμ— κ°„νΈν•λ‹¤.

- ElementType.TYPE

```jsx
@RestController
public class ApiController {

}
```

### @RequestMapping

μ”μ²­μ„ μ»¨νΈλ΅¤λ¬μ— λ§¤ν•‘ν• λ• @RequestMapping μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•  μ μλ‹¤. URL, HTTP λ©”μ„λ“ λ“± μ ν•λ³„ μΌμΉμ‹ν‚¬ μ μλ” λ‹¤μ–‘ν• μ†μ„±μ„ μ κ³µν•λ‹¤. ν΄λμ¤μ— μ‚¬μ©ν•λ” κ²½μ° ν•΄λ‹Ή ν΄λμ¤μ κ³µν†µ λ§¤ν•‘μ„ μ§€μ •ν•  μ μλ‹¤.

- ElementType.TYPE
- ElementType.METHOD

```jsx
@RequestMapping("/api")
@RestController
public class ApiController {

}
```

<aside>
π’΅ ν•΄λ‹Ή μ–΄λ…Έν…μ΄μ…μ„ κ°„νΈν•κ² μ‚¬μ©ν•  μ μλ” `@GetMapping` λ“±μ„ μ κ³µν•κΈ° λ•λ¬Έμ— μμ „λ³΄λ‹¤ μ‚¬μ©λΉλ„κ°€ μ¤„μ—λ‹¤.

</aside>

### @GetMapping

`@RequestMapping` μ— GET λ©”μ„λ“λ¥Ό μ„¤μ •ν• μ–΄λ…Έν…μ΄μ…μ΄λ‹¤. μ½”λ“κ°€ κ°„κ²°ν•΄μ§€κ³  Get λ©”μ„λ“λΌλ” κ²ƒμ„ ν•λμ— ν™•μΈμ΄ κ°€λ¥ν•λ‹¤. κ°’μΌλ΅ κ²½λ΅λ¥Ό μ „λ‹¬ν•  μ μλ‹¤.

- ElementType.METHOD

```jsx
@GetMapping
public String get1() {
	return "get1";
}

@GetMapping("get")
public String get2() {
	return "get2";
}
```

### @PostMapping

`@RequestMapping` μ— POST λ©”μ„λ“λ¥Ό μ„¤μ •ν• μ–΄λ…Έν…μ΄μ…μ΄λ‹¤. μ½”λ“κ°€ κ°„κ²°ν•΄μ§€κ³  Post λ©”μ„λ“λΌλ” κ²ƒμ„ ν•λμ— ν™•μΈμ΄ κ°€λ¥ν•λ‹¤. κ°’μΌλ΅ κ²½λ΅λ¥Ό μ „λ‹¬ν•  μ μλ‹¤.

- ElementType.METHOD

```jsx
@PostMapping
public String post1() {
	return "post1";
}

@PostMapping("post")
public String post2() {
	return "post2";
}
```

## μ„λΉ„μ¤

### @Service

Spring MVCμ—μ„ μ„λΉ„μ¤λ¥Ό λ‚νƒ€λ‚΄κΈ° μ„ν• μ–΄λ…Έν…μ΄μ…μ΄λ‹¤.

- ElementType.TYPE

```jsx
@Service
public class ApiServiceImpl implements ApiService {

}
```

## VO / DTO

<aside>
π’΅ μ—¬κΈ°μ—μ„ μ†κ°λλ” μ–΄λ…Έν…μ΄μ…μ€ `lombok` μ„ μ„¤μΉν•΄μ•Ό μ‚¬μ© κ°€λ¥ν•λ‹¤.

</aside>

### @Getter / @Setter

ν΄λμ¤μ λ¨λ“  ν•„λ“μ— λ€ν• getter, setter ν•¨μλ¥Ό μƒμ„±ν•΄μ¤€λ‹¤. getterμ™€ setterκ°€ ν•„μ”ν• κ²½μ° μ–΄λ…Έν…μ΄μ…λ§ μ¶”κ°€ν•λ©΄ λκΈ° λ•λ¬Έμ— μ½”λ“κ°€ ν›¨μ” κ°„κ²°ν•΄μ§„λ‹¤.

- ElementType.TYPE

```jsx
@Getter
@Setter
public class Example {
	private String name;
}
```

### @ToString

ν΄λμ¤μ— λ€ν• toString λ©”μ„λ“λ¥Ό μ‘μ„±ν•΄μ¤€λ‹¤.

- **exclude** : toStringμ—μ„ μ μ™Έν•  μ†μ„±. String[]
- **includeFieldNames** : ν•„λ“λ…μ„ ν¬ν•¨μ‹ν‚¬μ§€ μ—¬λ¶€. boolean
- ElementType.TYPE

```jsx
@ToString
public class Example {
	private String name;
}
```

### @NoArgsConstructor

ν•΄λ‹Ή μ–΄λ…Έν…μ΄μ…μ€ νλΌλ―Έν„°κ°€ μ—†λ” κΈ°λ³Έ μƒμ„±μλ¥Ό μƒμ„±ν•΄μ¤€λ‹¤.

- ElementType.TYPE

```jsx
@NoArgsConstructor
public class User {
  private String id;
  private String name;
  private String password;
}
```

### @RequiredArgsConstructor

ν•΄λ‹Ή μ–΄λ…Έν…μ΄μ…μ€ `final` μ΄κ±°λ‚ `@NonNull` μΈ ν•„λ“λ¥Ό νλΌλ―Έν„°λ΅ λ°›λ” μƒμ„±μλ¥Ό λ§λ“¤μ–΄μ¤€λ‹¤.

μ•„λλ” **name**μ΄ `@NonNull` μ΄κ³  **password**κ°€ `final` μ΄κΈ° λ•λ¬Έμ— 2κ°λ¥Ό νλΌλ―Έν„°λ΅ λ°›λ” μƒμ„±μλ¥Ό μƒμ„±ν•΄μ¤€λ‹¤.

- ElementType.TYPE

```jsx
@RequiredArgsConstructor
public class User {
  private String id;
  
  @NonNull
  private String name;
  
  private final String password;
}
```

### @Data

@Getter, @Setter, @ToString, @EqualsAndHashCode, @RequiredArgsConstructor λ¥Ό ν•©μ³λ†“μ€ μ–΄λ…Έν…μ΄μ…μ΄λ‹¤. ν΄λμ¤μ λ¨λ“  ν•„λ“μ— λ€ν• getter, setter, toString, equalsμ™€ κ°™μ€ ν•¨μλ¥Ό μƒμ„±ν•΄μ¤€λ‹¤.

- ElementType.TYPE

```jsx
@Data
public class Example {
	private String name;
}
```

### @Builder

μΌλ°μ μΌλ΅ κ°μ²΄λ¥Ό μƒμ„±ν•κΈ° μ„ν•΄μ„λ” μƒμ„±μλ¥Ό ν†µν•΄ μƒμ„±ν•κ² λλ‹¤.

```jsx
public class Example {
	private String name;
	private String id;
	
	constructor(String name, String id) {
		this.name = name;
		this.id = id;
	}
}

Example example = new Example('μ΄λ¦„', 'μ•„μ΄λ””');
```

μ„μ μƒμ„±μλ¥Ό ν†µν• κ°μ²΄ μƒμ„±μ κ²½μ° λ‹¨μ μ΄ λ‡κ°€μ§€ μ΅΄μ¬ν•λ‹¤.

1. μƒμ„±μ νλΌλ―Έν„°κ°€ λ§μ€ κ²½μ° κ°€λ…μ„±μ΄ λ–¨μ–΄μ§„λ‹¤.
    - ν•΄λ‹Ή κ°’μ΄ μ–΄λ–¤ ν•„λ“λ΅ μ „λ‹¬λλ”μ§€ ν•λμ— νμ•…ν•κΈ° νλ“¤λ‹¤.
2. νλΌλ―Έν„° μ „λ‹¬ μ‹ μ •ν•΄μ§„ μμ„λ€λ΅ μ „λ‹¬ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤.
    - μ „λ‹¬ν•΄μ•Όν•λ” νλΌλ―Έν„°μ μμ„λ¥Ό μ™μ§€ν•΄μ£Όμ–΄μ•Όν•λ‹¤.

μ„μ 2κ°€μ§€ λ¬Έμ λ¥Ό ν•΄κ²°ν• λΉλ” ν¨ν„΄μ„ μ κ³µν•΄μ£Όλ” `@Builder` μ–΄λ…Έν…μ΄μ…μ΄ μλ‹¤. ν•΄λ‹Ή μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•λ©΄ κ°μ²΄ μƒμ„±μ„ μ„ν• λ³„λ„μ builderλ¥Ό μλ™μΌλ΅ μƒμ„±ν•΄μ¤€λ‹¤.

```jsx
@Builder
public class Example {
	private String name;
	private String id;
}

Example example = Example.builder()
		.name("μ΄λ¦„")
		.id("μ•„μ΄λ””");
```

- ν•„λ“λ…κ³Ό ν•¨κ» κ°’μ„ μ „λ‹¬ν•μ—¬ κ°€λ…μ„± μ¦κ°€
- μμ„ μƒκ΄€μ—†μ΄ μ „λ‹¬ κ°€λ¥

## Entity

<aside>
π’΅ `import javax.persistence.*` μ—μ„ μ κ³µν•λ‹¤.

</aside>

### @Entity

JPAμ—μ„ μ—”ν‹°ν‹°λ€ DB ν…μ΄λΈ”μ— λ€μ‘ν•λ” ν•λ‚μ ν΄λμ¤λΌκ³  ν•  μ μλ‹¤.

@Entityκ°€ λ¶™μ€ ν΄λμ¤λ” JPAκ°€ κ΄€λ¦¬ν•΄μ£Όλ©°, JPAλ¥Ό μ‚¬μ©ν•΄μ„ DB ν…μ΄λΈ”κ³Ό λ§¤ν•‘ν•  ν΄λμ¤λ” @Entityλ¥Ό λ¶™μ—¬μ•Όλ§ λ§¤ν•‘μ΄ κ°€λ¥ν•λ‹¤.

`μ£Όμμ‚¬ν•­` 

- μ ‘κ·Ό μ μ–΄μκ°€ public νΉμ€ protectedμΈ κΈ°λ³Έ μƒμ„±μ ν•„μ
- final ν΄λμ¤, enum, interface, inner ν΄λμ¤μ—λ” μ‚¬μ© λ¶κ°€
- μ €μ¥ν•λ ¤λ” μ†μ„±μ€ final μ‚¬μ© λ¶κ°€
- ElementType.TYPE

```jsx
@Table
@NoArgsConstructor
public class User {

}
```

μ—”ν‹°ν‹°μ μ΄λ¦„μ€ JPQLμ„ μ‚¬μ©ν• λ• ν…μ΄λΈ”μ μ΄λ¦„μΌλ΅ μ‚¬μ©λλ‹¤.

- `@Table` μ„ μ‚¬μ©ν•λ”λΌλ„ μ—”ν‹°ν‹°λ΅ μ„¤μ •λ μ΄λ¦„μ„ μ‚¬μ©ν•΄μ•Ό ν•λ‹¤.
    
    ```jsx
    @Table(name = "TB_USER")
    @Entity("USER")
    public class User {
    
    }
    
    // JPQL
    SELECT u FROM User
    ```
    

### @Table

μ—”ν‹°μ΄μ™€ λ§¤ν•‘ν•  ν…μ΄λΈ”μ„ μ§€μ •ν•λ‹¤.

- ElementType.TYPE

```jsx
@Table(name = "TB_USER")
@Entity
public class User {

}
```

- ν…μ΄λΈ” μ‚¬μ© μ‹ TB_USER μ΄λ¦„μΌλ΅ μ‚¬μ©ν•λ‹¤.

### @Id

`@Entity` λ¥Ό μ‚¬μ©ν•λ” κ²½μ° ν•„μμ μΌλ΅ κΈ°λ³Έν‚¤λ¥Ό κ°€μ Έμ•Ό ν•λ‹¤. μ΄λ• ν•„λ“μ— κΈ°λ³Έν‚¤λ¥Ό μ„¤μ •ν•κΈ° μ„ν• μ–΄λ…Έν…μ΄μ…μ΄λ‹¤.

- ElementType.METHOD
- ElementType.FIELD

```jsx
@Id
private String memberId;

@Id
private Long getId() { return id; }
```

### @GeneratedValue

ν•΄λ‹Ή μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•λ©΄ μ‹λ³„μ κ°’μ„ μλ™ μƒμ„± μ‹μΌμ¤„ μ μλ‹¤. 3κ°€μ§€ μ „λµμ„ μ κ³µν•κ³ , JPAμ—κ² μ „λµ μ„ νƒμ„ μ„μ„ν•λ” AUTO μµμ…λ„ μ κ³µν•λ‹¤.

- GenerationType.AUTO
    - hibernate.dialectμ— μ„¤μ •λ DB λ°©μ–Έ μΆ…λ¥μ— λ”°λΌ, ν•μ΄λ²„λ„¤μ΄νΈκ°€ μλ™μΌλ΅ μ „λµμ„ μ„ νƒν•κ² ν•λ‹¤.
    - μλ™ λ³΄λ‹¤λ” μ§μ ‘ μ„ νƒν•λ” κ²ƒμ΄ μΆ‹λ‹¤.
- GenerationType.IDENTITY
    - κΈ°λ³Έ ν‚¤ μƒμ„±μ„ λ°μ΄ν„°λ² μ΄μ¤μ— μ„μ„ν•λ‹¤.
- GenerationType.SEQUENCE
    - DBμ μ‹ν€Έμ¤λ¥Ό ν™μ©ν•μ—¬ `Idκ°’`μ„ **μ¦κ°€**μ‹ν‚¨λ‹¤.
- GenerationType.TABLE
    - ν‚¤ μƒμ„± μ „μ© ν…μ΄λΈ”μ„ ν•λ‚ λ§λ“¤μ–΄μ„ λ°μ΄ν„°λ² μ΄μ¤ μ‹ν€Έμ¤λ¥Ό ν‰λ‚΄λ‚΄λ” μ „λµμ΄λ‹¤.
    - λ¨λ“  DBμ— μ μ© κ°€λ¥ν•λ‚ μ„±λ¥μ μΈ μ†ν•΄κ°€ μλ‹¤.

`UUIDλ΅ ID μƒμ„±ν•κΈ°`

**@GenericGenerator** λ¥Ό μ‚¬μ©ν•΄μ„ Idμ— UUIλ¥Ό μƒμ„±ν•  μ μλ‹¤.

μ•„λμ™€ κ°™μ΄ μ„¤μ •ν•λ©΄ `UUIDGenerator` λ¥Ό μ΄μ©ν•΄μ„ ν‚¤κ°’μ„ μƒμ„±ν•κ² λλ‹¤.

```jsx
@Id  
@GeneratedValue(generator = "uuid")  
@GenericGenerator(name = "uuid", strategy = "uuid2")  
@Column(name = "id", length = TYPE_UUID)
private String id;  
```

<aside>
π’΅ `@GeneratedValue` μ **generator** μ†μ„±μ— `@GenericGenerator` λ¥Ό ν™μ©ν•΄μ„ λ‹¤μ–‘ν•κ² μ»¤μ¤ν…€ Idλ¥Ό μƒμ„±ν•  μ μλ‹¤.

</aside>

### @Column

κ°μ²΄μ ν•„λ“λ¥Ό ν…μ΄λΈ” μ»¬λΌμ— λ§¤ν•‘ν•  μ μλ‹¤. μ£Όλ΅ `name` κ³Ό `nullable` μ†μ„±μ„ μ‚¬μ©ν•λ‹¤.

- **name** : ν•„λ“μ™€ λ§¤ν•‘ν•  ν…μ΄λΈ” μ»¬λΌ μ΄λ¦„.
- **nullable** : null κ°’μ ν—μ© μ—¬λ¶€ μ„¤μ •.
- nameμ„ μ§€μ •ν•μ§€ μ•μΌλ©΄ μΉ΄λ©μΌ€μ΄μ¤λ΅ μ‘μ„±λ μ΄λ¦„μ„ μ¤λ„¤μ΄ν¬μΌλ΅ λ³€κ²½ν•μ—¬ μ €μ¥.
- ElementType.METHOD
- ElementType.FIELD

```jsx
@Entity
public class Test {
    @Id
    @Column(name = "TEST_ID", nullable = true)
    private String id;
}
```

### @Enumerated

enum νƒ€μ…μ„ λ§¤ν•‘ν•  λ• μ‚¬μ©ν•λ‹¤. μ—΄κ±°ν•μ„ λ¬Έμμ—΄ λλ” μΈλ±μ¤ μμ„ μ¤‘ μ–΄λ–¤ κ±Έλ΅ μ €μ¥ν• μ§€λ¥Ό μ •ν•  μ μλ‹¤.

- **value** : `EnumType.STRING`, `EnumType.ORDINAL` λ¥Ό ν†µν•΄ λ¬Έμμ—΄ λλ” μμ„λ΅λ΅ μ €μ¥. (default. ORDINAL)
- ElementType.METHOD
- ElementType.FIELD

```jsx
enum Gender {

}

@Entity
public class Test {
    @Id
    @Column(name = "TEST_ID", nullable = true)
    private String id;

    @Enumerated(EnumType.ORDINAL)
    @Column
    private Gender a;
}

```

### @Temporal

λ‚ μ§ νƒ€μ…μ„ λ§¤ν•‘ν•  λ• μ‚¬μ©ν•λ‹¤.

- **value** : `TemporalType.DATE`, `TemporalType.TIME` , `TemporalType.TIMESTAMP` . (default. TIMESTAMP)
- ElementType.METHOD
- ElementType.FIELD